<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cross-Vector Algorithm Simulator 2026</title>
    <link href="https://cdn.jsdelivr.net" rel="stylesheet">
    <style>
        body { background-color: #0f0f0f; font-family: 'Inter', sans-serif; color: #efefef; }
        .video-card { cursor: pointer; transition: all 0.25s ease; border: 1px solid #222; border-radius: 12px; background: #181818; height: 100%; }
        .video-card:hover { background: #252525; transform: translateY(-4px); border-color: #ff0000; }
        .thumb { width: 100%; aspect-ratio: 16/9; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin-bottom: 10px; font-weight: 800; font-size: 0.9rem; text-transform: uppercase; }
        .progress { height: 6px; background-color: #222; border-radius: 10px; }
        .tag-pill { font-size: 0.65rem; padding: 2px 8px; border-radius: 20px; background: #333; color: #aaa; margin-right: 4px; margin-bottom: 4px; border: 1px solid transparent; }
        .tag-pill.active { border-color: #ff0000; color: white; }
        .log-box { font-family: 'Courier New', monospace; font-size: 0.75rem; color: #00ff00; background: #000; padding: 12px; border-radius: 10px; height: 120px; overflow-y: auto; border: 1px solid #333; }
        .stat-label { font-size: 0.7rem; font-weight: bold; opacity: 0.7; }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>
<body>

<div class="container py-5" style="max-width: 950px;">
    <div class="container sticky-top">
    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h1 class="h3 fw-bold mb-0">Algo<span class="text-danger">rithm</span> 2026</h1>
            <p class="text-secondary small">Simulating Cross-Category Tag Recommendations</p>
        </div>
        <button class="btn btn-danger fw-bold px-4" onclick="refreshFeed()">REFRESH FEED</button>
    </div>

    <!-- Algorithm Metrics -->
    <div class="row g-3 mb-4">
        <div class="col-md-12">
            <div class="card bg-dark border-0 shadow-lg">
                <div class="card-body">
                    <div class="row" id="stat-bars">
                        <!-- Bars for Categories will be injected here -->
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- 3-Wide Video Grid -->
    <div id="video-grid" class="row row-cols-1 row-cols-md-3 g-3 mb-5">
        <!-- Videos go here -->
    </div>

    <!-- Developer Console -->
    <div class="small text-secondary mb-2 text-uppercase fw-bold">Real-Time Neural Processing Log</div>
    <div id="algo-log" class="log-box shadow-sm">
        > Initializing global tag weights...<br>
        > Decoupling category-tag dependencies...<br>
        > System ready.
    </div>
    </div>
</div>

<script>
    // 1. CONFIGURATION
    const categories = [
        { name: "Tech", color: "#0d6efd" },
        { name: "Gaming", color: "#ffc107" },
        { name: "Music", color: "#6f42c1" },
        { name: "Food", color: "#fd7e14" },
        { name: "Travel", color: "#198754" }
        //{ name: "News", color: "#dc3545" }
    ];

    const globalTags = ["Lofi", "Tutorial", "Hardware", "Review", "Live", "Budget", "AI", "Mobile", "ASMR", "News"];

    // 2. STATE MANAGEMENT
    let categoryWeights = { Tech: 1, Gaming: 1, Music: 1, Food: 1, Travel: 1 };
    let tagWeights = {};
    globalTags.forEach(tag => tagWeights[tag] = 1);

    function writeLog(message) {
        const log = document.getElementById('algo-log');
        log.innerHTML += `<div>> ${message}</div>`;
        log.scrollTop = log.scrollHeight;
    }

    // 3. GENERATOR
    function generateVideo() {
        const cat = categories[Math.floor(Math.random() * categories.length)];
        // Pick two unique random tags from global pool
        const shuffled = [...globalTags].sort(() => 0.5 - Math.random());
        const selectedTags = shuffled.slice(0, 2);

        return {
            id: Math.floor(Math.random() * 10000),
            category: cat.name,
            color: cat.color,
            tags: selectedTags,
            title: `${cat.name} ${selectedTags[0]} vs ${selectedTags[1]}`,
            views: (Math.random() * 5).toFixed(1) + "M"
        };
    }

    // 4. THE ALGORITHM
    function refreshFeed() {
        const grid = document.getElementById('video-grid');
        let pool = Array.from({ length: 15 }, generateVideo);

        // SCORING LOGIC:
        // Rank = (Category Strength * 2) + (Tag 1 Strength) + (Tag 2 Strength)
        pool.sort((a, b) => {
            const scoreA = (categoryWeights[a.category] * 2) + tagWeights[a.tags[0]] + tagWeights[a.tags[1]];
            const scoreB = (categoryWeights[b.category] * 2) + tagWeights[b.tags[0]] + tagWeights[b.tags[1]];
            return scoreB - scoreA;
        });

        grid.innerHTML = pool.map(v => `
            <div class="col" onclick="processEngagement('${v.category}', '${v.tags.join(',')}')">
                <div class="video-card p-3">
                    <div class="thumb" style="background: ${v.color}22; color: ${v.color}; border: 2px solid ${v.color}33;">
                        ${v.category}
                    </div>
                    <div class="fw-bold text-truncate mb-2" style="font-size: 0.95rem;">${v.title}</div>
                    <div class="d-flex flex-wrap mb-2">
                        ${v.tags.map(t => `<span class="tag-pill">#${t}</span>`).join('')}
                    </div>
                    <div class="text-secondary" style="font-size: 0.75rem;">
                        ${v.views} views â€¢ Just now
                    </div>
                </div>
            </div>
        `).join('');

        updateMetrics();
    }

    // 5. USER INTERACTION
    function processEngagement(cat, tagString) {
        const tags = tagString.split(',');
        
        // Boost Category
        categoryWeights[cat] += 4;
        
        // Boost Tags (Cross-category)
        tags.forEach(t => tagWeights[t] += 3);

        writeLog(`Engagement detected in ${cat}. Global Tag Boost: #${tags.join(', #')}`);
        
        // Global Decay (Simulates short attention spans)
        Object.keys(categoryWeights).forEach(k => { if(categoryWeights[k] > 1) categoryWeights[k] -= 0.5; });
        Object.keys(tagWeights).forEach(k => { if(tagWeights[k] > 1) tagWeights[k] -= 0.2; });

        refreshFeed();
    }

    // 6. UI UPDATES
    function updateMetrics() {
        const container = document.getElementById('stat-bars');
        const maxVal = Math.max(...Object.values(categoryWeights), ...Object.values(tagWeights), 10);

        // Displaying Category Weights
        let html = categories.map(c => `
            <div class="col-4 col-md">
                <div class="stat-label text-uppercase mb-1" style="color:${c.color}">${c.name}</div>
                <div class="progress">
                    <div class="progress-bar" style="width: ${(categoryWeights[c.name] / maxVal) * 100}%; background-color: ${c.color}"></div>
                </div>
            </div>
        `).join('');

        // Highlight Top Tag in Log
        const topTag = Object.keys(tagWeights).reduce((a, b) => tagWeights[a] > tagWeights[b] ? a : b);
        if (tagWeights[topTag] > 2) {
            writeLog(`System Alert: High interest in #${topTag} detected across all genres.`);
        }

        container.innerHTML = html;
    }

    // Initialization
    refreshFeed();
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
</body>
</html>
